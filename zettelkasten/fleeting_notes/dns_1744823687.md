# ğŸŒ Fundamentos de DNS (Domain Name System)

O **DNS** Ã© um sistema distribuÃ­do responsÃ¡vel por traduzir nomes de domÃ­nio legÃ­veis (como `www.google.com`) em endereÃ§os IP (como `142.250.219.132`). Ele Ã© um dos pilares fundamentais da internet moderna, permitindo que usuÃ¡rios acessem recursos sem precisar memorizar endereÃ§os numÃ©ricos.

---

## ğŸ§  Conceitos BÃ¡sicos

- **Nome de domÃ­nio**: Identificador legÃ­vel atribuÃ­do a um recurso da internet (ex: `exemplo.com`).
- **Zona**: Conjunto de registros de DNS mantidos por uma autoridade especÃ­fica.
- **Servidor autoritativo**: ResponsÃ¡vel por fornecer respostas definitivas para domÃ­nios sob seu controle.
- **Servidor recursivo**: ResponsÃ¡vel por buscar a resposta consultando outros servidores, atÃ© encontrÃ¡-la.
- **ResoluÃ§Ã£o**: Processo de conversÃ£o de nome â†’ IP.

---

## ğŸ§­ Como funciona uma consulta DNS

1. O navegador ou sistema faz uma consulta para resolver `www.exemplo.com`.
2. O servidor **recursivo local** (geralmente do provedor ou configurado no roteador) Ã© consultado.
3. Se ele nÃ£o souber a resposta, consulta:
   - **Root servers** â†’ apontam para
   - **TLD servers** (como `.com`) â†’ que apontam para
   - **Autoritativos** do domÃ­nio (`exemplo.com`)
4. A resposta (endereÃ§o IP) Ã© armazenada em cache para consultas futuras.

---

## ğŸ“„ Tipos de Registros DNS

| Tipo | DescriÃ§Ã£o                              | Exemplo                      |
|------|------------------------------------------|------------------------------|
| A    | Aponta para um IPv4                    | `192.0.2.1`                  |
| AAAA | Aponta para um IPv6                    | `2001:db8::1`                |
| CNAME| Alias para outro nome                   | `www â†’ site.exemplo.com`     |
| MX   | Servidor de e-mail do domÃ­nio           | `mail.exemplo.com`           |
| NS   | Servidores autoritativos do domÃ­nio     | `ns1.exemplo.com`            |
| TXT  | Texto arbitrÃ¡rio (SPF, verificaÃ§Ã£o, etc)| `v=spf1 include:_spf.google.com` |
| SOA  | InÃ­cio de autoridade de zona            | ParÃ¢metros da zona DNS       |

---

## ğŸ§ª Ferramentas de DiagnÃ³stico

- `dig` â€” comando poderoso para resolver nomes:
```bash
dig exemplo.com
```

- `nslookup` â€” ferramenta interativa:
```bash
nslookup exemplo.com
```

- `host` â€” consulta simples:
```bash
host exemplo.com
```

---

## ğŸ”’ DNS e SeguranÃ§a

- **DNS Spoofing / Poisoning**: InjeÃ§Ã£o de registros falsos em caches.
- **DNSSEC**: ExtensÃ£o de seguranÃ§a que permite verificaÃ§Ã£o criptogrÃ¡fica de respostas DNS.
- **DoH (DNS over HTTPS)** e **DoT (DNS over TLS)**: Protocolos para privacidade na resoluÃ§Ã£o DNS.

---

## ğŸ“‚ ApÃªndice: O Arquivo `hosts`

Antes da existÃªncia do DNS como o conhecemos hoje, a resoluÃ§Ã£o de nomes era feita exclusivamente por meio de um **arquivo local** chamado `hosts`. Este arquivo continha mapeamentos de nomes para endereÃ§os IP.

### ğŸ•°ï¸ HistÃ³rico

- O arquivo `hosts.txt` era distribuÃ­do manualmente entre computadores na ARPANET.
- Ã€ medida que a rede crescia, esse mÃ©todo tornou-se inviÃ¡vel â€” levando Ã  criaÃ§Ã£o do DNS (em 1983).

### ğŸ“ Caminhos tÃ­picos

- **Linux/macOS:** `/etc/hosts`
- **Windows:** `C:\Windows\System32\drivers\etc\hosts`

### ğŸ§ª Exemplo de entrada:
```text
127.0.0.1   localhost
192.168.1.10  meu-servidor.local
```

### ğŸ” Uso moderno

- Bloqueio de sites
- Testes de resoluÃ§Ã£o local
- Overrides temporÃ¡rios durante deploys

> ğŸ“Œ O conteÃºdo do arquivo `hosts` Ã© sempre consultado **antes** de qualquer consulta DNS externa.

---

## ğŸ§  Resumo

- O DNS traduz nomes de domÃ­nio em IPs.
- Ã‰ hierÃ¡rquico, distribuÃ­do e possui caches em diversos nÃ­veis.
- Registros como `A`, `MX`, `CNAME`, `NS` compÃµem as zonas.
- DiagnÃ³stico Ã© feito com ferramentas como `dig`, `nslookup`, `host`.
- HÃ¡ mecanismos para proteger a integridade das consultas (DNSSEC, DoH, DoT).
- O arquivo `hosts` ainda Ã© relevante para uso local e histÃ³rico.

---

## ğŸ”— ReferÃªncias

- [RFC 1035 - Domain Implementation and Specification](https://tools.ietf.org/html/rfc1035)
- [Cloudflare DNS Guide](https://www.cloudflare.com/learning/dns/what-is-dns/)
- [IETF DNS Working Group](https://datatracker.ietf.org/wg/dnsop/about/)

---

Este conteÃºdo faz parte da [pasta de redes](../networks/) do repositÃ³rio [`study`](attachs/docs/README.md).
